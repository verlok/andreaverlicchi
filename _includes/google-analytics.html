<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-26756203-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "UA-26756203-1", {
        custom_map: {
            dimension1: "page_load_time_tier",
            dimension2: "page_render_time_tier",
            metric1: "page_load_time",
            metric2: "page_render_time"
        }
    });
    // track-perf-for-ga -> bundle (esm) -> terser
    const e=e=>{gtag("event","performance_data",e)},t=e=>JSON.parse(localStorage.getItem(e)),r=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))};class i{constructor({bounds:e,_localStorageKey:r}){this.bounds=e,this._localStorageKey=r,this.storedTimes=t(this._localStorageKey)||[]}_timeDifference(e,t,r=window.performance.timing){return r[t]-r[e]}_calculateAverage(e){return e.reduce((e,t)=>e+t,0)/e.length}_persistStoredTimes(){r(this._localStorageKey,this.storedTimes)}_getTier(){const e=this._calculateAverage(this.storedTimes);return this.bounds.find(t=>e<t.time).tier}resetStoredTimes(){this.storedTimes=[],this._persistStoredTimes()}updateStoredTimes(){this.storedTimes.push(this.time),this._persistStoredTimes()}}const s=18e5;const a=(e,t,r,i)=>{const s=setInterval(()=>{e[t]&&(clearInterval(s),i())},r)},o=new class extends i{constructor(){super({bounds:[{time:2500,tier:"Fast"},{time:6500,tier:"Average"},{time:1/0,tier:"Slow"}],_localStorageKey:"GaPerf.SessionPageLoadTimes"})}calculate(){this.time=this._timeDifference("navigationStart","loadEventEnd")}track(){e({page_load_time:this.time,page_load_time_tier:this._getTier()})}},n=new class extends i{constructor(){super({bounds:[{time:1e3,tier:"Fast"},{time:2e3,tier:"AverageFast"},{time:3e3,tier:"AverageSlow"},{time:1/0,tier:"Slow"}],_localStorageKey:"GaPerf.SessionRenderTimes"})}calculate(){this.time=this._timeDifference("domLoading","domComplete")}track(){e({page_render_time:this.time,page_render_time_tier:this._getTier()})}},c=new class{constructor(){this._localStorageKey="GaPerf.LastPageViewTime"}hasExpired(){return Date.now()-t(this._localStorageKey)>s}refresh(){r(this._localStorageKey,Date.now())}};c.hasExpired()&&(o.resetStoredTimes(),n.resetStoredTimes()),a(window.performance.timing,"loadEventEnd",500,()=>{o.calculate(),o.updateStoredTimes(),o.track()}),a(window.performance.timing,"domComplete",200,()=>{n.calculate(),n.updateStoredTimes(),n.track()}),c.refresh()
</script>
