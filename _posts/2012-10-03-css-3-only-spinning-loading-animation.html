---
layout: post
title: CSS 3 only spinning "loading" animation
date: 2012-10-03 23:25:03.000000000 +02:00
categories:
- development
tags:
- animations
- css only
- css3
- ie10
- loading
- preloader
- spinner
status: publish
type: post
published: true
meta:
  _wp_old_slug: create-css-3-loading-spinning-animatio
  _edit_last: '1'
  _syntaxhighlighter_encoded: '1'
  _thumbnail_id: '142'
author:
  login: admin
  email: andrea.verlicchi@gmail.com
  display_name: Andrea Verlicchi
  first_name: Andrea
  last_name: Verlicchi
---
<p>We used GIF images to create animations for years, but they aren't pretty to be used over gradients or pictures (no alpha channel, no anti-aliasing) of which modern web sites are full. There are many workarounds to animate PNG images instead, but...</p>
<div><img src="assets/preloader_preview1.png" alt="" title="preloader_preview" width="690" height="100" class="alignnone size-full wp-image-142" /></div>
<p>I want to show you a solution I found to create a "loading" animation from scratch, using only CSS 3, without images.</p>
<p><!--more--></p>
<h2>Results first</h2>
<div class="post-result"><iframe src="http://www.andreaverlicchi.eu/examples/css3-only-loading-animation.html" width="100%" height="100"></iframe></div>
<p>The core of this is to draw a quarter of circle and animate it. Here are the bottom-up steps to do it:</p>
<h2>Create a circle</h2>
<p>[sourcecode language="html"]<br />
&lt;!-- Inner masked circle --&gt;<br />
&lt;div class=&quot;maskedCircle&quot;&gt;&lt;/div&gt;<br />
[/sourcecode]<br />
[sourcecode language="css"]<br />
/* Spinning circle (inner circle) */<br />
.loading .maskedCircle {<br />
	width: 20px;<br />
	height: 20px;<br />
	border-radius: 12px;<br />
	border: 3px solid white;<br />
}<br />
[/sourcecode]</p>
<h2>Mask one quarter of the circle</h2>
<p>[sourcecode language="html"]<br />
&lt;!-- Mask of the quarter of circle --&gt;<br />
&lt;div class=&quot;mask&quot;&gt;<br />
    &lt;!-- Inner masked circle --&gt;<br />
    &lt;div class=&quot;maskedCircle&quot;&gt;&lt;/div&gt;<br />
&lt;/div&gt;<br />
[/sourcecode]<br />
[sourcecode language="css"]<br />
/* Spinning circle mask */<br />
.loading .mask {<br />
	width: 12px;<br />
	height: 12px;<br />
	overflow: hidden;<br />
}<br />
[/sourcecode]</p>
<h2>Make both spin around</h2>
<p>[sourcecode language="html"]<br />
&lt;!-- We make this div spin --&gt;<br />
&lt;div class=&quot;spinner&quot;&gt;<br />
	&lt;!-- Mask of the quarter of circle --&gt;<br />
	&lt;div class=&quot;mask&quot;&gt;<br />
		&lt;!-- Inner masked circle --&gt;<br />
		&lt;div class=&quot;maskedCircle&quot;&gt;&lt;/div&gt;<br />
	&lt;/div&gt;<br />
&lt;/div&gt;<br />
[/sourcecode]<br />
[sourcecode language="css"]<br />
/* Animation keyframes<br />
Note that you'll need to add -vendor-prefixes<br />
to make it work on all browsers */<br />
@keyframes spin {<br />
	from { transform: rotate(0deg); }<br />
	to { transform: rotate(360deg); }<br />
}<br />
/* Spinner */<br />
.loading .spinner {<br />
	position: absolute;<br />
	left: 1px;<br />
	top: 1px;<br />
	width: 26px;<br />
	height: 26px;<br />
	animation: spin 1s infinite linear;<br />
}<br />
[/sourcecode]</p>
<h2>Wrap everything in a "loading" container, that will be centered inside its parent</h2>
<p>[sourcecode language="html"]<br />
&lt;!-- Loading animation container --&gt;<br />
&lt;div class=&quot;loading&quot;&gt;<br />
	&lt;!-- We make this div spin --&gt;<br />
	&lt;div class=&quot;spinner&quot;&gt;<br />
		&lt;!-- Mask of the quarter of circle --&gt;<br />
		&lt;div class=&quot;mask&quot;&gt;<br />
			&lt;!-- Inner masked circle --&gt;<br />
			&lt;div class=&quot;maskedCircle&quot;&gt;&lt;/div&gt;<br />
		&lt;/div&gt;<br />
	&lt;/div&gt;<br />
&lt;/div&gt;<br />
[/sourcecode]<br />
[sourcecode language="css"]<br />
/* Loading animation container */<br />
.loading {<br />
	position: absolute;<br />
	top: 50%;<br />
	left: 50%;<br />
	width: 28px;<br />
	height: 28px;<br />
	margin: -14px 0 0 -14px;<br />
}<br />
[/sourcecode]</p>
<h2>Resulting HTML and CSS code:</h2>
<p>[sourcecode language="html"]<br />
&lt;!-- Loading animation container --&gt;<br />
&lt;div class=&quot;loading&quot;&gt;<br />
	&lt;!-- We make this div spin --&gt;<br />
	&lt;div class=&quot;spinner&quot;&gt;<br />
		&lt;!-- Mask of the quarter of circle --&gt;<br />
		&lt;div class=&quot;mask&quot;&gt;<br />
			&lt;!-- Inner masked circle --&gt;<br />
			&lt;div class=&quot;maskedCircle&quot;&gt;&lt;/div&gt;<br />
		&lt;/div&gt;<br />
	&lt;/div&gt;<br />
&lt;/div&gt;<br />
[/sourcecode]<br />
[sourcecode language="css"]<br />
/* Animation keyframes - you need to add prefixes */<br />
@keyframes spin {<br />
	from { transform: rotate(0deg); }<br />
	to { transform: rotate(360deg); }<br />
}</p>
<p>/* Loading animation container */<br />
.loading {<br />
	position: absolute;<br />
	top: 50%;<br />
	left: 50%;<br />
	width: 28px;<br />
	height: 28px;<br />
	margin: -14px 0 0 -14px;<br />
}</p>
<p>/* Spinning circle (inner circle) */<br />
.loading .maskedCircle {<br />
	width: 20px;<br />
	height: 20px;<br />
	border-radius: 12px;<br />
	border: 3px solid white;<br />
}</p>
<p>/* Spinning circle mask */<br />
.loading .mask {<br />
	width: 12px;<br />
	height: 12px;<br />
	overflow: hidden;<br />
}</p>
<p>/* Spinner */<br />
.loading .spinner {<br />
	position: absolute;<br />
	left: 1px;<br />
	top: 1px;<br />
	width: 26px;<br />
	height: 26px;<br />
	animation: spin 1s infinite linear;<br />
}<br />
[/sourcecode]</p>
<p>Isn't that cool? </p>
<p>It works perfectly on all modern desktop browsers like:</p>
<ul>
<li>Internet Explorer 10</li>
<li>Chrome</li>
<li>Firefox</li>
<li>Safari</li>
<li>Opera</li>
</ul>
<p>and also for all major mobile browsers:</p>
<ul>
<li>Safari Mobile</li>
<li>Chrome Mobile</li>
<li>Firefox Mobile</li>
<li>Opera Mobile</li>
<li>Internet Explorer Mobile (Windows Phone 8 only)</li>
</ul>
<p>At the moment, Windows Phone 7's Internet Explorer won't animate the figure.</p>
<h2>The fallbacks?</h2>
<p>Need a fallback to see the animation in older browsers? If you read so far, you probably do.</p>
<p>Although the fallback is not the purpose of this article, let's say that the best solution would be preparing a sprite with all the frames of the animation at a constant distance one from each other, use the sprite as background of a DOM element, and animate the background with javascript.</p>
